<!DOCTYPE html>
<html>
<head>
    <title>显示客户端 IP</title>
</head>
<body>
    <h1>你的 IP 地址是：</h1>
    <div id="ip"></div>

    <script>
        // 创建一个 XMLHttpRequest 对象
        var xhr = new XMLHttpRequest();

        // 发送 GET 请求到一个提供公网 IP 的 API
        xhr.open('GET', 'https://api.ipify.org?format=json');

        xhr.onload = function() {
            if (xhr.status === 200) {
                // 解析 JSON 数据
                var response = JSON.parse(xhr.responseText);
                // 获取 IP 地址并显示在页面上
                document.getElementById('ip').textContent = response.ip;
            } else {
                console.error('请求失败。状态码：' + xhr.status);
            }
        };

        xhr.send();
    </script>
</body>
</html>
